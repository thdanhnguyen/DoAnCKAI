<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·∫£i B√†i To√°n Ng∆∞·ªùi Du L·ªãch (TSP)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üó∫Ô∏è GI·∫¢I B√ÄI TO√ÅN NG∆Ø·ªúI DU L·ªäCH (TSP)</h1>
            <p class="subtitle">So s√°nh thu·∫≠t to√°n Backtracking (simpleAI) v√† ACO (Ant Colony Optimization)</p>
        </header>

        <div class="main-grid">
             Left Panel - Controls 
            <div class="panel">
                <div class="panel-title">‚öôÔ∏è C·∫•u h√¨nh</div>
                
                 Tabs for different input methods 
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('default')">M·∫∑c ƒë·ªãnh</button>
                    <button class="tab" onclick="switchTab('manual')">Nh·∫≠p tay</button>
                    <button class="tab" onclick="switchTab('csv')">File CSV</button>
                </div>

                 Default cities tab 
                <div id="tab-default" class="tab-content active">
                    <h3 style="font-size: 1rem; margin-bottom: 12px; color: #ccc;">Danh s√°ch th√†nh ph·ªë</h3>
                    <div class="cities-list" id="citiesList">
                         Will be populated by JavaScript 
                    </div>
                </div>

                 Manual input tab 
                <div id="tab-manual" class="tab-content">
                    <h3 style="font-size: 1rem; margin-bottom: 12px; color: #ccc;">Nh·∫≠p t·ªça ƒë·ªô th√†nh ph·ªë</h3>
                    <div class="cities-editor" id="citiesEditor">
                         Will be populated by JavaScript 
                    </div>
                    <button class="btn btn-add btn-small" onclick="addCityRow()" style="width: 100%;">
                        ‚ûï Th√™m th√†nh ph·ªë
                    </button>
                    <div style="margin-top: 12px; font-size: 0.85rem; color: #999;">
                        üí° Nh·∫≠p t√™n th√†nh ph·ªë, kinh ƒë·ªô (longitude) v√† vƒ© ƒë·ªô (latitude)
                    </div>
                </div>

                 CSV upload tab 
                <div id="tab-csv" class="tab-content">
                    <h3 style="font-size: 1rem; margin-bottom: 12px; color: #ccc;">T·∫£i file CSV</h3>
                    <div class="file-upload" onclick="document.getElementById('csvFile').click()">
                        <input type="file" id="csvFile" accept=".csv" onchange="handleCSVUpload(event)">
                        <div class="file-upload-icon">üìÅ</div>
                        <div style="color: #f7d046; font-weight: 600; margin-bottom: 4px;">Nh·∫•n ƒë·ªÉ ch·ªçn file CSV</div>
                        <div style="color: #999; font-size: 0.9rem;">ho·∫∑c k√©o th·∫£ file v√†o ƒë√¢y</div>
                    </div>
                    <div id="csvInfo" style="display: none;" class="file-info">
                         CSV file info will be shown here 
                    </div>
                    <div class="csv-example">
                        <strong style="color: #f7d046;">ƒê·ªãnh d·∫°ng CSV:</strong><br>
                        name,longitude,latitude<br>
                        H√† N·ªôi,105.8,21.0<br>
                        H·∫£i Ph√≤ng,106.7,20.8<br>
                        ƒê√† N·∫µng,108.2,16.0
                    </div>
                </div>

                <div class="section-divider"></div>

                <h3 style="font-size: 1rem; margin-bottom: 12px; color: #ccc;">Tham s·ªë thu·∫≠t to√°n ACO</h3>
                <div class="params-grid">
                    <div class="input-group">
                        <label for="nAnts">S·ªë l∆∞·ª£ng ki·∫øn</label>
                        <input type="number" id="nAnts" value="30" min="10" max="100">
                    </div>
                    <div class="input-group">
                        <label for="nIterations">S·ªë iterations</label>
                        <input type="number" id="nIterations" value="100" min="50" max="500">
                    </div>
                    <div class="input-group">
                        <label for="alpha">Alpha (Œ±)</label>
                        <input type="number" id="alpha" value="1.0" step="0.1" min="0.1" max="5">
                    </div>
                    <div class="input-group">
                        <label for="beta">Beta (Œ≤)</label>
                        <input type="number" id="beta" value="2.0" step="0.1" min="0.1" max="5">
                    </div>
                    <div class="input-group">
                        <label for="evaporation">Evaporation (œÅ)</label>
                        <input type="number" id="evaporation" value="0.5" step="0.1" min="0.1" max="0.9">
                    </div>
                    <div class="input-group">
                        <label for="q">Q (h·∫±ng s·ªë)</label>
                        <input type="number" id="q" value="100" min="10" max="1000">
                    </div>
                </div>

                <button class="btn btn-primary" id="solveBtn" onclick="solveTSP()">
                    üöÄ Gi·∫£i b√†i to√°n
                </button>
                <button class="btn btn-secondary" id="compareBtn" onclick="showComparison()" disabled>
                    üìä So s√°nh k·∫øt qu·∫£
                </button>

                <div class="results-box" id="resultsBox">
                    <div style="color: #666; text-align: center; padding: 20px;">
                        Nh·∫•n "Gi·∫£i b√†i to√°n" ƒë·ªÉ b·∫Øt ƒë·∫ßu...
                    </div>
                </div>
            </div>

             Right Panel - Visualization 
            <div class="panel">
                <div class="panel-title">üìà Tr·ª±c quan h√≥a</div>
                <div class="loading" id="loadingIndicator">
                    <div class="spinner"></div>
                    <div>ƒêang x·ª≠ l√Ω...</div>
                </div>
                <div class="visualization-grid" id="visualizationGrid">
                    <div class="viz-panel">
                        <div class="viz-title">V·ªã tr√≠ c√°c th√†nh ph·ªë</div>
                        <canvas id="citiesCanvas"></canvas>
                    </div>
                    <div class="viz-panel">
                        <div class="viz-title">Tuy·∫øn ƒë∆∞·ªùng Backtracking</div>
                        <canvas id="backtrackingCanvas"></canvas>
                    </div>
                    <div class="viz-panel">
                        <div class="viz-title">Tuy·∫øn ƒë∆∞·ªùng ACO</div>
                        <canvas id="acoCanvas"></canvas>
                    </div>
                    <div class="viz-panel">
                        <div class="viz-title">Qu√° tr√¨nh h·ªôi t·ª• ACO</div>
                        <canvas id="convergenceCanvas"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
